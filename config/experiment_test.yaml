# üìä Datos de mercado a utilizar
market_data:
  symbol: "ETH/USDT"         # Activo a analizar
  interval: "5m"             # Intervalo temporal de las velas
  start_date: "2024-01-01"   # Fecha inicial del dataset
  end_date: "2024-01-01"     # Fecha final del dataset
  provider: "coinbase"       # Fuente de datos (binance, coinbase, alpha_vantage, etc.)
  save_to_csv: true          # Si se guarda el archivo descargado

# üß† Configuraci√≥n del pipeline de features
features:
  ohlcv:
    enabled: true
    indicators: "all"        # Todos los indicadores disponibles (ver lista abajo)
    # Indicadores incluidos en "all":
    # - rsi: √çndice de fuerza relativa
    # - ema: Media exponencial m√≥vil (10, 20)
    # - macd: Media m√≥vil convergente-divergente
    # - bollinger: Bandas de Bollinger
    # - williams_r: Oscilador de sobrecompra/sobreventa
    # - stoch: Estoc√°stico lento (%K, %D)
    # - atr: Rango verdadero promedio
    # - adx: √çndice de movimiento direccional promedio
    # - obv: Balance de volumen
    # - cci: Commodity Channel Index
    # - roc: Rate of Change

  stats:
    enabled: true
    windows: [5, 10, 20]     # Tama√±os de ventana para estad√≠sticas rolling
    # Se aplican a columnas como close, volume, returns:
    # - mean, std, zscore, skewness, kurtosis, max, min, etc.

  relational:
    enabled: true
    # Calcula relaciones entre activos o series: spreads, betas, cointegraci√≥n, ratios

  nonlinear:
    enabled: true
    method: "autofeat"
    # M√©todos posibles:
    # - "autofeat": transforma features polin√≥micas + interacciones no lineales
    # - "pca": reducci√≥n de dimensionalidad
    # - "poly": expansi√≥n polin√≥mica (con sklearn)
    # - "quantile_bins": binning de columnas en cuartiles/deciles
    # - "yeo-johnson": transformaciones de normalizaci√≥n no lineal

# --- Configuraci√≥n de selecci√≥n autom√°tica de features -----------------------
selection:                            # Secci√≥n dedicada a la configuraci√≥n de la selecci√≥n autom√°tica de features
  enabled: true                      # Activa (true) o desactiva (false) todo el bloque de selecci√≥n
  x_full_path: core/features/shared/temp/X_full.csv  
                                      # Ruta al CSV con todas las features unificadas (salida del merge)
  output_dir: shared/output          # Carpeta donde se van a escribir X_selected.csv y metadata.json
  method: auto                       # M√©todo de selecci√≥n: 
                                      #   ‚Äúauto‚Äù = prueba todas las combinaciones de modelo+m√©trica
  models:                            # Modelos que se entrenar√°n para calcular importancia y validaci√≥n cruzada
    - xgboost                        #   ‚Ä¢ XGBoostClassifier
    - random_forest                  #   ‚Ä¢ RandomForestClassifier
    - logistic_regression            #   ‚Ä¢ LogisticRegression
  metrics:                           # M√©tricas usadas para evaluar y comparar modelos
    - sharpe                         #   ‚Ä¢ Sharpe ratio (rendimiento ajustado por riesgo)
    - roc_auc                        #   ‚Ä¢ √Årea bajo la curva ROC (clasificaci√≥n binaria)
    - f1                             #   ‚Ä¢ F1 Score (balance entre precisi√≥n y recall)
    - accuracy                       #   ‚Ä¢ Precisi√≥n global (accuracy)
  top_k: 30                          # M√°ximo n√∫mero de features que se mantendr√°n en el subset final
  cv_splits: 5                       # N√∫mero de pliegues (folds) a usar en la validaci√≥n cruzada
  xgboost_params: {}                 # Par√°metros extras para XGBoost (vac√≠o = defaults)
  random_forest_params: {}           # Par√°metros extras para Random Forest (vac√≠o = defaults)
  logistic_regression_params:        # Par√°metros extras para Logistic Regression
    max_iter: 3000                   #   ‚Ä¢ max_iter: n√∫mero m√°ximo de iteraciones para asegurar convergencia


# üìÅ Carpeta destino donde se guardan:
# - X_full.csv
# - X_selected.csv
# - ranking.csv
# - heatmap.png
# - metadata.json
output_path: core/features/shared/output/
